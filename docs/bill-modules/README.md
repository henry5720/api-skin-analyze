# 報帳系統

這是一個報帳系統mvp，支援 OCR 自動識別發票資訊和多檔案上傳功能。

## [Demo連結](https://s76hpn.csb.app/)

## 功能特色

### 核心功能
- **智能報帳流程**：OCR 自動識別發票資訊（預設啟用）
- **靈活操作模式**：可選擇 OCR 識別或手動填寫
- **多檔案上傳**：基於 Dropzone.js，支援拖拽、點擊上傳
- **完整 CRUD 操作**：新增、查看、編輯、刪除費用記錄

### 檔案上傳功能
- **專業拖拽介面**：使用 Dropzone.js 5.9.3 提供流暢的上傳體驗
- **多格式支援**：支援 PDF、Word、圖片等常見格式
- **即時預覽**：檔案上傳後立即顯示預覽
- **拖拽操作**：支援拖拽檔案到指定區域
- **點擊上傳**：點擊上傳區域即可選擇檔案
- **檔案管理**：可隨時移除不需要的檔案

### OCR 智能識別
- **自動填表**：上傳發票後自動填入表單欄位
- **可切換模式**：可選擇啟用或關閉 OCR 功能
- **即時識別**：上傳後立即進行 OCR 識別

## 操作流程

### 新增報帳
1. 點擊「新增報帳」按鈕
2. 選擇是否啟用 OCR（預設啟用）
   - **OCR 模式**：上傳發票後自動填入表單
   - **手動模式**：直接填寫表單資訊
3. 填寫或確認表單資訊
4. 上傳附加檔案（可選）
5. 提交表單

### 編輯報帳
1. 點擊記錄的「編輯」按鈕
2. 修改表單資訊
3. 更新附加檔案（可選）
4. 儲存變更

### 檔案上傳操作
- **拖拽上傳**：直接拖拽檔案到上傳區域
- **點擊上傳**：點擊上傳區域選擇檔案
- **預覽管理**：查看已上傳檔案並可隨時移除
- **多檔案支援**：同時上傳多個檔案

## 技術特點

### 前端技術
- **HTML5**：現代語義化標記
- **CSS3**：響應式設計，流暢動畫效果
- **JavaScript ES6+**：現代 JavaScript 特性
- **Dropzone.js**：專業檔案上傳庫
- **Font Awesome**：豐富的圖示庫

### 設計特色
- **響應式設計**：適配各種裝置螢幕
- **現代化介面**：簡潔美觀的用戶界面
- **流暢動畫**：優雅的交互動畫效果
- **無障礙設計**：良好的可訪問性

### 檔案管理
- **智能預覽**：根據檔案類型顯示適當圖示
- **大小限制**：單檔案最大 10MB
- **格式檢查**：自動檢驗檔案格式
- **錯誤處理**：完善的錯誤提示機制

## 系統架構

### 檔案結構
```
demo/
├── index.html      # 主頁面
├── styles.css      # 樣式表
├── script.js       # 主要邏輯
└── README.md       # 說明文件
```

### 核心模組
- **檔案上傳模組**：基於 Dropzone.js 的檔案處理
- **OCR 識別模組**：發票資訊自動識別
- **表單管理模組**：表單驗證和資料處理
- **資料存儲模組**：本地資料管理

## 使用說明

### 環境要求
- 現代瀏覽器（Chrome 80+、Firefox 75+、Safari 13+）
- 支援 ES6+ 語法
- 支援 Drag & Drop API

### 部署方式
1. 直接在瀏覽器中開啟 `index.html`
2. 或透過 HTTP 伺服器部署（推薦）

### 配置選項
- **OCR 服務**：可配置 OCR 服務端點
- **檔案上傳**：可配置上傳伺服器 URL
- **樣式主題**：可自訂色彩主題

## 更新日誌

### v3.0.0 (2024-01-15)
- **重大更新**：整合 Dropzone.js 5.9.3 檔案上傳功能
- **體驗優化**：改善上傳介面，支援點擊和拖拽操作
- **功能增強**：提供更豐富的檔案預覽和管理功能
- **樣式改進**：使用 Dropzone 原生預覽樣式，提升視覺效果

### v2.0.0 (2024-01-10)
- 新增附加檔案上傳功能
- 改善 OCR 識別流程
- 優化響應式設計

### v1.0.0 (2024-01-05)
- 初始版本發布
- 基本報帳功能
- OCR 識別支援

## 注意事項

### 檔案上傳
- 建議檔案大小不超過 10MB
- 支援常見格式：PDF、Word、圖片
- 確保網路連線穩定以保證上傳成功

### OCR 功能
- 需要清晰的發票影像以提升識別準確度
- 建議使用 PDF 或高解析度圖片
- 識別結果僅供參考，請務必檢查準確性

### 瀏覽器支援
- 建議使用最新版本瀏覽器
- 某些舊版瀏覽器可能不支援所有功能
- 行動裝置瀏覽器需支援檔案上傳 API

## 開發指南

### 自訂樣式
修改 `styles.css` 中的 CSS 變數：
```css
:root {
    --primary-color: #addeac;
    --secondary-color: #f8f9fa;
    --text-color: #333;
}
```

### 擴展功能
- 在 `script.js` 中添加新的業務邏輯
- 透過 Dropzone 事件處理器自訂檔案處理行為
- 整合後端 API 以支援真實檔案上傳

### API 整合
```javascript
// 配置 Dropzone 上傳 URL
const dropzone = new Dropzone('#dropzone', {
    url: '/api/upload',
    headers: {
        'X-CSRF-TOKEN': csrfToken
    }
});
```

---

此系統提供了完整的報帳管理功能，結合現代化的使用者介面和強大的檔案上傳功能，為使用者提供優質的報帳體驗。
